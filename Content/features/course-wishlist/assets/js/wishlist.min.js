! function(o) {
    "use strict";

    function t() {
        var t = o(this),
            s = t.attr("data-id"),
            a = t.attr("data-nonce"),
            e = t.data("text");
        t.hasClass("ajaxload_wishlist") || (t.addClass("ajaxload_wishlist").prop("disabled", !0), e && t.html(e), o.ajax({
            url: window.location.href,
            type: "post",
            dataType: "html",
            data: {
                "lp-ajax": "toggle_course_wishlist",
                course_id: s,
                nonce: a
            },
            success: function(t) {
                t = LP.parseJSON(t);
                var s = o(".learn-press-course-wishlist-button-" + t.course_id),
                    a = s.closest('[data-context="tab-wishlist"]');
                a.length ? a.fadeOut(function() {
                    var t = a.siblings(),
                        s = a.closest("#learn-press-profile-tab-course-wishlist");
                    a.remove(), 0 == t.length && s.removeClass("has-courses")
                }) : s.removeClass("ajaxload_wishlist").toggleClass("on", "on" == t.state).prop("title", t.title).html(t.button_text), s.prop("disabled", !1)
            }
        }))
    }
    var s = null;
    o(document).on("click", ".course-wishlist", function() {
        s && clearTimeout(s), s = setTimeout(o.proxy(t, this), 50)
    })
}(jQuery);